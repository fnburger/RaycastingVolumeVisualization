#ifndef GL_ES
#version 330 es
#endif

uniform vec3 cameraPos;

out vec3 transformedEye;
out vec3 rayDirection;

void main() {
    mat4 mvp = projectionMatrix * viewMatrix * modelMatrix;
    mat4 pvm = modelMatrix * viewMatrix * projectionMatrix;

    gl_Position = mvp * vec4(position, 1);

    //transformedEye = (pvm * vec4(0, 0, -1, 1)).xyz;
    transformedEye = cameraPos;
    rayDirection = position - transformedEye;
}
